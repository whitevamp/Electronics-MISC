<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Scullcom</title>
	<atom:link href="http://www.scullcom.uk/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.scullcom.uk</link>
	<description>Hobby Electonics</description>
	<lastBuildDate>Sun, 09 Sep 2018 18:26:37 +0000</lastBuildDate>
	<language>en-GB</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.3</generator>
	<item>
		<title>Function Generator Mk2</title>
		<link>http://www.scullcom.uk/function-generator-mk2/</link>
		<comments>http://www.scullcom.uk/function-generator-mk2/#comments</comments>
		<pubDate>Tue, 21 Aug 2018 15:32:02 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Function Generator Mk2]]></category>
		<category><![CDATA[Projects]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=492</guid>
		<description><![CDATA[In this project we will design and build a Function Generator. The Frequency will be controlled by using a rotary encoder and functions controlled by push buttons. A 20 x 4 LCD and Arduino Nano will also be used for the user interface and control. Below are the download links for this project: Ardunio software [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><iframe width="648" height="365" src="https://www.youtube.com/embed/ZCdTxRASqiQ?start=1423&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>In this project we will design and build a Function Generator. The Frequency will be controlled by using a rotary encoder and functions controlled by push buttons. A 20 x 4 LCD and Arduino Nano will also be used for the user interface and control.</p>
<p>Below are the download links for this project:<br />
Ardunio software version 1.7:  <a href="http://www.scullcom.com/Function_Gen_Mk2_ver1_7.ino">http://www.scullcom.com/Function_Gen_Mk2_ver1_7.ino</a><br />
Schematic, Layout and Parts List: <a href="http://www.scullcom.com/Function_Generator_Mk2_files_Part1.zip">http://www.scullcom.com/Function_Generator_Mk2_files_Part1.zip</a><br />
PCB Gerber files link below: <a href="http://www.scullcom.com/Fun_Gen_Mk2_Main_PCB_ver1_5_gerber_files.zip">http://www.scullcom.com/Fun_Gen_Mk2_Main_PCB_ver1_5_gerber_files.zip</a><br />
PCB size is 100mm x 99mm &#8211; double side print.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/function-generator-mk2/feed/</wfw:commentRss>
		<slash:comments>11</slash:comments>
		</item>
		<item>
		<title>DC Voltage Calibrator</title>
		<link>http://www.scullcom.uk/dc-voltage-calibrator/</link>
		<comments>http://www.scullcom.uk/dc-voltage-calibrator/#comments</comments>
		<pubDate>Fri, 01 Dec 2017 15:49:44 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[DC Voltage Calibrator]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=463</guid>
		<description><![CDATA[Part 1 In this project we will design and build a DC Voltage Calibrator, providing a voltage range from 0 to 10 volts in 1 milli volt steps. The user interface will be a TFT display with touchscreen. Below are links to version 1 of the software for the Arduino Nano. Also a zip file [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><strong>Part 1</strong></p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/V9l5kc_o_dA?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>In this project we will design and build a DC Voltage Calibrator, providing a voltage range from 0 to 10 volts in 1 milli volt steps. The user interface will be a TFT display with touchscreen.<br />
Below are links to version 1 of the software for the Arduino Nano. Also a zip file which contains the schematic, PCB artwork (Version 2) and component layout:</p>
<p><a href="http://www.scullcom.com/DC_Voltage_Calibrator_Ver1.ino">http://www.scullcom.com/DC_Voltage_Calibrator_Ver1.ino</a><br />
<a href="http://www.scullcom.com/DC_Voltage_Calibrator.zip">http://www.scullcom.com/DC_Voltage_Calibrator.zip</a></p>
<p>Parts List link below:<br />
<a href="http://www.scullcom.com/DC_Voltage_Calibrator_Parts_List.pdf">http://www.scullcom.com/DC_Voltage_Calibrator_Parts_List.pdf</a></p>
<p>Below is a link to my KiCad files for this project:<br />
<a href="http://www.scullcom.com/DC_Voltage_Cal_KiCad_files.zip">http://www.scullcom.com/DC_Voltage_Cal_KiCad_files.zip</a></p>
<p><strong>Part 2</strong></p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/VTfuE9XwSEg?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>In part 2 of this project we will make a number of improvements and build the unit in to a project case and carry out some tests.<br />
Below are links to download the latest software version plus some zip files with all the project information including schematic, PCB artwork, wiring layouts and parts list plus project case template and front panel artwork:</p>
<p><a href="http://www.scullcom.com/DC_Voltage_Calibrator_Ver2.ino">http://www.scullcom.com/DC_Voltage_Calibrator_Ver2.ino</a><br />
<a href="http://www.scullcom.com/DC_Cal_1_024V_option.zip">http://www.scullcom.com/DC_Cal_1_024V_option.zip</a><br />
<a href="http://www.scullcom.com/DC_Cal_TFT_Nano_Module.zip">http://www.scullcom.com/DC_Cal_TFT_Nano_Module.zip</a><br />
<a href="http://www.scullcom.com/DC_Cal_Front_Panel.zip">http://www.scullcom.com/DC_Cal_Front_Panel.zip</a></p>
<p>For the project case simply search on eBay for &#8220;7.8&#8221;x6.9&#8243;x2.7&#8243; Plastic Electronics Instrument Plastic Case Box Shell w/ Handle&#8221;<br />
Also available from <a href="http://www.banggood.com">www.banggood.com</a> as:<br />
7.8 x6.9 x2.7 plastic electronics instrument plastic case box shell</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/EZUZa_myApU?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>In part 3 we will use new double side PCB&#8217;s and improve the accuracy of voltage reference below 2 volts. We will remove the need for calibration of the 1.024V Ref. Also a new battery option will be added. You can download the latest version of Arduino software, schematics and KiCad files from the links below: <a href="http://www.scullcom.com/DC_Voltage_Calibrator_Ver6.ino">http://www.scullcom.com/DC_Voltage_Calibrator_Ver6.ino</a><br />
<a href="http://www.scullcom.com/DC_Calibrator_schematics.zip">http://www.scullcom.com/DC_Calibrator_schematics.zip</a><br />
<a href="http://www.scullcom.com/DC_Cal_Battery_Module.zip">http://www.scullcom.com/DC_Cal_Battery_Module.zip</a><br />
<a href="http://www.scullcom.com/DC_Calibrator_main_PCB_KiCad_files.zip">http://www.scullcom.com/DC_Calibrator_main_PCB_KiCad_files.zip</a><br />
<a href="http://www.scullcom.com/DC_Cal_TFT_Nano_module_KiCad_files.zip">http://www.scullcom.com/DC_Cal_TFT_Nano_module_KiCad_files.zip</a><br />
<a href="http://www.scullcom.com/DC_Calibrator_Battery_Option_KiCad_files.zip">http://www.scullcom.com/DC_Calibrator_Battery_Option_KiCad_files.zip</a></p>
<p>Parts list can be downloaded from the link below:<br />
<a href="http://www.scullcom.com/DC_Voltage_Cal_Parts_List.pdf">http://www.scullcom.com/DC_Voltage_Cal_Parts_List.pdf</a></p>
<p>Below are links to download the latest Gerber Files for PCB production:</p>
<p><a href="http://www.scullcom.com/DC_Cal_Main_PCB_2_2a.zip">http://www.scullcom.com/DC_Cal_Main_PCB_2_2a.zip</a><br />
<a href="http://www.scullcom.com/DC_Cal_Display_Nano_2_0a.zip">http://www.scullcom.com/DC_Cal_Display_Nano_2_0a.zip</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/dc-voltage-calibrator/feed/</wfw:commentRss>
		<slash:comments>45</slash:comments>
		</item>
		<item>
		<title>Build a Sinclair ZX80 Clone</title>
		<link>http://www.scullcom.uk/build-a-sinclair-zx80-clone/</link>
		<comments>http://www.scullcom.uk/build-a-sinclair-zx80-clone/#respond</comments>
		<pubDate>Tue, 13 Jun 2017 14:35:13 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Projects]]></category>
		<category><![CDATA[ZX80]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=457</guid>
		<description><![CDATA[In this project we will build a Sinclair ZX80 Clone with 16KByte of RAM and a 16KByte EPROM with dual ZX80 and ZX81 ROM images which can be switched by selector links. We will use the ZX80 Minstrel PCB from Tynemouth Software for this project (www.tynemouthsoftware.co.uk). Link for ordering PCB is below: https://www.thefuturewas8bit.com/shop/tynemouth-products/minstrel-zx80.html&#38;v=M7MpMr0sfh4&#38;event=video_description Below are [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><iframe width="648" height="365" src="https://www.youtube.com/embed/M7MpMr0sfh4?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>In this project we will build a Sinclair ZX80 Clone with 16KByte of RAM and a 16KByte EPROM with dual ZX80 and ZX81 ROM images which can be switched by selector links. We will use the ZX80 Minstrel PCB from Tynemouth Software for this project (www.tynemouthsoftware.co.uk).<br />
Link for ordering PCB is below:</p>
<p><a href="https://www.thefuturewas8bit.com/shop/tynemouth-products/minstrel-zx80.html&amp;v=M7MpMr0sfh4&amp;event=video_description">https://www.thefuturewas8bit.com/shop/tynemouth-products/minstrel-zx80.html&amp;v=M7MpMr0sfh4&amp;event=video_description</a></p>
<p>Below are links to download the full Schematic, PCB component reference layout, info sheet detailing part suppliers, parts list, ZX80 logos and a zip file with the dual ZX80/ZX81 ROM image:</p>
<p><a href="http://www.scullcom.com/ZX80_Minstrel_schematic.pdf">http://www.scullcom.com/ZX80_Minstrel_schematic.pdf</a><br />
<a href="http://www.scullcom.com/ZX80_Minstrel_PCB_ref.pdf">http://www.scullcom.com/ZX80_Minstrel_PCB_ref.pdf</a><br />
<a href="http://www.scullcom.com/ZX80_clone_info_sheet.pdf">http://www.scullcom.com/ZX80_clone_info_sheet.pdf</a><br />
<a href="http://www.scullcom.com/ZX80_clone_parts_list.pdf">http://www.scullcom.com/ZX80_clone_parts_list.pdf</a><br />
<a href="http://www.scullcom.com/ZX80_logos.pdf">http://www.scullcom.com/ZX80_logos.pdf</a><br />
<a href="http://www.scullcom.com/Dual_ZX80_ZX81_ROM.zip">http://www.scullcom.com/Dual_ZX80_ZX81_ROM.zip</a></p>
<p>New keypads are available from <a href="http://www.rwapsoftware.co.uk">www.rwapsoftware.co.uk</a><br />
The PCB and overlays are also available from Tindie store (<a href="https://www.tindie.com/stores/tynemouthsw/">https://www.tindie.com/stores/tynemouthsw/</a>), alongside kits and complete built units.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/build-a-sinclair-zx80-clone/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Design &#038; Build an Electronic DC Load</title>
		<link>http://www.scullcom.uk/design-build-an-electronic-dc-load-part-1/</link>
		<comments>http://www.scullcom.uk/design-build-an-electronic-dc-load-part-1/#comments</comments>
		<pubDate>Sun, 25 Dec 2016 23:51:49 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[DC Load]]></category>
		<category><![CDATA[Projects]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=410</guid>
		<description><![CDATA[In this project we will design an build an Electronic DC Load which is capable of Constant Current, Constant Power and Constant Resistance. The design will use a rotary encoder for input entry and a 20&#215;4 LCD display as the user interface. In Part 1 of this project we will discuss the basic design and [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In this project we will design an build an Electronic DC Load which is capable of Constant Current, Constant Power and Constant Resistance. The design will use a rotary encoder for input entry and a 20&#215;4 LCD display as the user interface. In Part 1 of this project we will discuss the basic design and then build and test the initial prototype.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/9fsf1CgnTRk?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>Below are links for the prototype software plus a zip file with the schematic, PCB artwork and component layout:</p>
<ul>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Electronic_Load_software_V1.ino" target="_blank" rel="nofollow noopener" data-servicelink="CC8Q6TgiEwjRpt2q2pnRAhVBpRwKHaIsBp0o-B0" data-target-new-window="True" data-url="http://www.scullcom.com/Electronic_Load_software_V1.ino">Arduino Software</a></li>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Electronic_DC_Load_part1.zip" target="_blank" rel="nofollow noopener" data-servicelink="CC8Q6TgiEwjRpt2q2pnRAhVBpRwKHaIsBp0o-B0" data-target-new-window="True" data-url="http://www.scullcom.com/Electronic_DC_Load_part1.zip">Schematic, PCB artwork and component layout</a></li>
</ul>
<p><img class="alignnone size-full wp-image-418" src="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Electronic_Load_block_diagram.jpg" alt="dc_electronic_load_block_diagram" width="769" height="466" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Electronic_Load_block_diagram.jpg 769w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Electronic_Load_block_diagram-300x182.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Electronic_Load_block_diagram-768x465.jpg 768w" sizes="(max-width: 769px) 100vw, 769px" /></p>
<p><img class="alignnone size-full wp-image-422" src="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_wiring.jpg" alt="dc_load_wiring" width="719" height="455" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_wiring.jpg 719w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_wiring-300x190.jpg 300w" sizes="(max-width: 719px) 100vw, 719px" /></p>
<p>Above shows the PCB wired for testing with heatsink and fan added.</p>
<p><img class="size-large wp-image-420 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ICs.jpg" alt="dc_load_ics" width="648" height="361" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ICs.jpg 830w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ICs-300x167.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ICs-768x428.jpg 768w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p>Underside of PCB showing the locations of the 3 IC&#8217;s.</p>
<p><img class="size-large wp-image-419 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_display.jpg" alt="dc_load_display" width="604" height="375" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_display.jpg 604w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_display-300x186.jpg 300w" sizes="(max-width: 604px) 100vw, 604px" /></p>
<p>Close up of 20&#215;4 LCD showing setting in Constant Current Mode.</p>
<p><strong>PART 2</strong></p>
<p>In part 2 of this project we will make some changes in the way the LCD displays the information. The set current and set power levels are now set in Amps and Watts to three decimal places. Safety limits have also been added to limit maximum current setting and maximum power. After start up the unit goes in to constant current mode. A battery capacity function has also been added to test the life of batteries in mAh. The power mosfet has now been changed to a BUK956R1-100E (from NXP) to improve power handling. Finally software has been upgraded to Version 2.0.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/V6RQgD-moJA?start=719&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>Below are links to the downloads for Part 2 of this project:</p>
<p><a href="http://www.scullcom.com/Electronic_Load_software_V2.0.ino" target="_blank" rel="noopener">http://www.scullcom.com/Electronic_Load_software_V2.0.ino</a><br />
<a href="http://www.scullcom.com/MCP79410Timer-master.zip" target="_blank" rel="noopener">http://www.scullcom.com/MCP79410Timer-master.zip</a><br />
<a href="http://www.scullcom.com/RTC_Module_PCB_Schematic.zip" target="_blank" rel="noopener">http://www.scullcom.com/RTC_Module_PCB_Schematic.zip</a><br />
<a href="http://www.scullcom.com/Electronic_Load_Parts_List.pdf" target="_blank" rel="noopener">http://www.scullcom.com/Electronic_Load_Parts_List.pdf</a><br />
<a href="http://www.scullcom.com/DC_Load_Circuit_Part2.pdf" target="_blank" rel="noopener">http://www.scullcom.com/DC_Load_Circuit_Part2.pdf</a></p>
<p>Below is the new LCD layout with the heatsink temperature now at the top left of the display.</p>
<p><img class="alignnone size-full wp-image-427" src="http://www.scullcom.uk/wp-content/uploads/2016/12/part2_CC_display.jpg" alt="part2_CC_display" width="847" height="360" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/part2_CC_display.jpg 847w, http://www.scullcom.uk/wp-content/uploads/2016/12/part2_CC_display-300x128.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/12/part2_CC_display-768x326.jpg 768w" sizes="(max-width: 847px) 100vw, 847px" /></p>
<p>When the power limit is exceeded the Load switches OFF and the display informs &#8220;Exceeded Power Limit&#8221;.</p>
<p><img class="alignnone wp-image-428" src="http://www.scullcom.uk/wp-content/uploads/2016/12/Part2_power_limit.jpg" alt="Part2_power_limit" width="733" height="331" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/Part2_power_limit.jpg 856w, http://www.scullcom.uk/wp-content/uploads/2016/12/Part2_power_limit-300x136.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/12/Part2_power_limit-768x347.jpg 768w" sizes="(max-width: 733px) 100vw, 733px" /></p>
<p>To accommodate the new feature of Battery Capacity Testing we have now added a Real Time Clock (RTC) which also uses the I2C bus to interface with the Arduino.</p>
<p><img class="size-large wp-image-429 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/12/part2_RTC_circuit.jpg" alt="part2_RTC_circuit" width="514" height="405" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/part2_RTC_circuit.jpg 514w, http://www.scullcom.uk/wp-content/uploads/2016/12/part2_RTC_circuit-300x236.jpg 300w" sizes="(max-width: 514px) 100vw, 514px" /></p>
<p>Below is the Safe Operating Area graph, taken from the datasheet, of the Power Mosfet. This illustrates the ability of the Mosfet to handle 3A at 30 volt. However, this is at 25°C and in reality the power handling will be lower than that as the Mosfet heats up. At a later stage we will consider adding Mosfets in parallel to overcome this.</p>
<p><img class="alignnone size-large wp-image-430" src="http://www.scullcom.uk/wp-content/uploads/2016/12/part2_SOA_mosfet.jpg" alt="part2_SOA_mosfet" width="648" height="315" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/part2_SOA_mosfet.jpg 852w, http://www.scullcom.uk/wp-content/uploads/2016/12/part2_SOA_mosfet-300x146.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/12/part2_SOA_mosfet-768x373.jpg 768w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p><strong>PART 3</strong></p>
<p>In Part 3 of this project we will make a number of improvements and additions. These will include a keypad, improved accuracy, fault protection and enhanced battery capacity discharge test mode. A 4.096 volt reference had been added to the DAC improving accuracy. A battery capacity testing menu has been added.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/NRv1QLL1Gxg?start=1963&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>Below are links to download the latest version of software (version 8) and the updated schematic of the whole project, which now includes Real Time Clock and Voltage Reference Modules:<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V8.ino" target="_blank" rel="noopener">http://www.scullcom.com/Electronic_Load_software_V8.ino</a><br />
<a href="http://www.scullcom.com/DC_Load_Schematic_ver3.pdf" target="_blank" rel="noopener">http://www.scullcom.com/DC_Load_Schematic_ver3.pdf</a><br />
Please not that the new software now uses a keypad library &#8211; ensure that you have the latest version of this library and read the information on the following web page:<br />
<a href="http://playground.arduino.cc/Code/Keypad" target="_blank" rel="noopener">http://playground.arduino.cc/Code/Keypad</a><br />
Direct link for the keypad.h library is below:<br />
<a href="http://playground.arduino.cc/uploads/Code/keypad.zip" target="_blank" rel="noopener">http://playground.arduino.cc/uploads/Code/keypad.zip</a></p>
<p><strong>PART 4</strong></p>
<p>In Part 4 of this project on the Electronic DC Load we are going to add a remote voltage sense circuit, increase the power capacity by adding additional power mosfets and build the completed unit into a metal project case. We will also upgrade the software to allow for input entry via the keypad as well as the rotary encoder.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/2QzkMDqxruo?start=716&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>Below are download links to the latest version of software.<br />
Also a zip file with the updated schematic for the main PCB, schematic and PCB artwork for the Remote Voltage Sense , Parts List, details of alternative power mosfets, wiring diagram and any notes:<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V12.ino" target="_blank" rel="noopener">http://www.scullcom.com/Electronic_Load_software_V12.ino</a><br />
<a href="http://www.scullcom.com/DC_Load_files_Part4.zip" target="_blank" rel="noopener">http://www.scullcom.com/DC_Load_files_Part4.zip</a><br />
To increase the Power Cut-Off Level simply change the value in the code below in software:<br />
float PowerCutOff = 50;<br />
Suggest changing 50 to 99<br />
<strong>WIRING DIAGRAM LAYOUT LINK BELOW:</strong><br />
<a href="http://www.scullcom.com/DC_Load_wiring_layout.pdf" target="_blank" rel="noopener">http://www.scullcom.com/DC_Load_wiring_layout.pdf</a></p>
<p>Below is the Remote Sense Circuit which uses a OPA277 OP Amp as a difference amplifier. The negative 5 volt supply for the OP Amp is generated by the a ICL7660 voltage converter IC.</p>
<p><img class="size-full wp-image-433 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/12/Part4_remote_sense.jpg" alt="Part4_remote_sense" width="678" height="475" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/Part4_remote_sense.jpg 678w, http://www.scullcom.uk/wp-content/uploads/2016/12/Part4_remote_sense-300x210.jpg 300w" sizes="(max-width: 678px) 100vw, 678px" /></p>
<p>The 20K preset between pins 1 &amp; 8 of the OP Amp is adjusted for a NULL sense output when the sense input terminals are shorted together.</p>
<p><strong>PART 5</strong></p>
<p>In part 5 of this project we will improve the power Mosfet&#8217;s current handling capability. Also a Transient Mode will be added providing a pulse option for the DC Load. The software will be updated providing extra features such as; user setting of battery cut-off voltage for battery capacity mode and user setup of safety limits.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/DxA67V5qPaM?start=861&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>Below are links for downloading the latest software and updated schematic diagram:<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V24.ino" target="_blank" rel="noopener">http://www.scullcom.com/Electronic_Load_software_V24.ino</a><br />
<a href="http://www.scullcom.com/DC_Load_Schematic_v5.pdf" target="_blank" rel="noopener">http://www.scullcom.com/DC_Load_Schematic_v5.pdf</a><br />
The Remote Voltage Sense circuit remains as show in Part 4 of this project.</p>
<p><img class="alignnone size-full wp-image-434" src="http://www.scullcom.uk/wp-content/uploads/2016/12/Part5_mosfet_par_update.jpg" alt="Part5_mosfet_par_update" width="712" height="479" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/Part5_mosfet_par_update.jpg 712w, http://www.scullcom.uk/wp-content/uploads/2016/12/Part5_mosfet_par_update-300x202.jpg 300w" sizes="(max-width: 712px) 100vw, 712px" /></p>
<p>Above is the revised circuit for paralleling the Power Mosfets. Additional 0.1 ohm resistors have been added in the source return of each of the Mosfets so as to reduce the effect of the negative temperature coefficient of the gate/source threshold voltage.</p>
<p><strong>Part 6</strong></p>
<p>In Part 6 of this project we are going to make modifications to the Power Mosfet drive circuit to improve the ability to handle higher current/power levels whilst protecting the Mosfets from over heating and possibly going in to thermal runaway. We are also going to design, build and test the trigger input circuit. In addition to this I have updated the software to Version 25.<br />
Below are links to download the latest software. Also there are two zip files providing the PCB artwork, Schematic and Parts List for both the Mosfet Drive Circuit and the Trigger Input Circuit.<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V25.ino">http://www.scullcom.com/Electronic_Load_software_V25.ino</a><br />
<a href="http://www.scullcom.com/DC_Load_Mosfet_Drive.zip">http://www.scullcom.com/DC_Load_Mosfet_Drive.zip</a><br />
<a href="http://www.scullcom.com/DC_Load_Trigger_CircuitPCB.zip">http://www.scullcom.com/DC_Load_Trigger_CircuitPCB.zip</a><br />
<strong>IMPORTANT:</strong> PLEASE REMEMBER WHEN PRINTING THE PCB ART WORK SET YOUR PRINTER TO PRINT ACTUAL SIZE.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/9auu8hH4IPM?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p><strong>Part 7</strong></p>
<p>In part 7 of this project we will have a look at a number of updates and improvements. We will also use a new single sided PCB with all the components on one board. The Arduino software has also been updated to version 27.<br />
Below are download links to two zip files which provide all the details. One for the updates, schematic, PCB artwork and parts list etc. and another with all the KiCad files. Also a link for the latest software:</p>
<p><a href="http://www.scullcom.com/Electronic_Load_software_V27.ino">http://www.scullcom.com/Electronic_Load_software_V27.ino</a><br />
<a href="http://www.scullcom.com/DC_Load_version7_1.zip">http://www.scullcom.com/DC_Load_version7_1.zip</a><br />
<a class="yt-uix-sessionlink " href="https://www.youtube.com/redirect?event=video_description&amp;v=_JReIwVH7eo&amp;q=http%3A%2F%2Fwww.scullcom.com%2FElectronic_Load_software_V27.ino&amp;redir_token=UbYT5Kdk4N5oi7OpG3IK7ygelZ98MTUxNTk0MzMwOEAxNTE1ODU2OTA4" target="_blank" rel="nofollow noopener" data-url="/redirect?event=video_description&amp;v=_JReIwVH7eo&amp;q=http%3A%2F%2Fwww.scullcom.com%2FElectronic_Load_software_V27.ino&amp;redir_token=UbYT5Kdk4N5oi7OpG3IK7ygelZ98MTUxNTk0MzMwOEAxNTE1ODU2OTA4" data-sessionlink="itct=CDAQ6TgYACITCNfYyYSf1dgCFQ7EFgoddUoHKij4HUjq25-qsMSXyvwB" data-target-new-window="True">http://www.scullcom.com/DC_Load_v7_1_KiCad_files.zip</a></p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/_JReIwVH7eo?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>The latest version now uses a double sided PCB.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/hhzmU6gOzMo?start=2402&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>Latest download links for this project are listed below:</p>
<p>Arduino software for 5&#215;4 matrix keypad option:<br />
<a href="http://www.scullcom.com/Electronic_load_software_V34.ino">http://www.scullcom.com/Electronic_load_software_V34.ino</a><br />
Arduino software for 4&#215;4 matrix keypad option:<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V34B.ino">http://www.scullcom.com/Electronic_Load_software_V34B.ino</a><br />
The schematic and all other documents are in the zip file below:<br />
<a href="http://www.scullcom.com/DC_Load_9_2_files.zip">http://www.scullcom.com/DC_Load_9_2_files.zip</a></p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/FkvvmR4_D-A?start=1426&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p><strong>Download links for this project are listed below:</strong></p>
<p>Arduino software update (Version V35) for 5&#215;4 matrix keypad option:<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V35.ino">http://www.scullcom.com/Electronic_Load_software_V35.ino</a></p>
<p>Arduino software update (Version V35B) for 4&#215;4 matrix keypad option:<br />
<a href="http://www.scullcom.com/Electronic_Load_software_V35B.ino">http://www.scullcom.com/Electronic_Load_software_V35B.ino</a></p>
<p>The schematic and all other documents are in the zip file below:<br />
<a href="http://www.scullcom.com/DC_Load_update_files.zip">http://www.scullcom.com/DC_Load_update_files.zip</a></p>
<p>Additional files which include LCD wiring details, Rotary Encoder wiring details, I2C LCD Module variations and Arduino code changes and heatsink spacing details. can be downloaded from the link below:<br />
<a href="http://www.scullcom.com/DC_Load_additional_files.zip">http://www.scullcom.com/DC_Load_additional_files.zip</a></p>
<p>DC Load PCB version 9.2 Gerber Files can now be downloaded from the link below:<br />
<a class="yt-simple-endpoint style-scope yt-formatted-string" href="http://www.scullcom.com/DC_Load_ver9_2_gerbers.zip">http://www.scullcom.com/DC_Load_ver9_2_gerbers.zip</a></p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/xDQeeLFKtiQ?start=370&#038;feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<p>The above video covers the data logging option in Battery Capacity Mode of the DC Load. We we pass serial data to a PC using a USB lead and use some freeware software. The data will be saved as a text file which can then be used later in a spreadsheet to create a graph.</p>
<p>Below are links to an information sheet which shows the additional lines of code added to the Arduino software for this feature. Also an information sheet about CoolTerm the serial logging freeware also used: <a class="yt-simple-endpoint style-scope yt-formatted-string" href="http://www.scullcom.com/DC_Load_info_on_added_data_logging_code.pdf"><br />
http://www.scullcom.com/DC_Load_info_on_added_data_logging_code.pdf</a> <a class="yt-simple-endpoint style-scope yt-formatted-string" href="http://www.scullcom.com/CoolTerm_info_sheet.pdf"><br />
http://www.scullcom.com/CoolTerm_info_sheet.pdf</a></p>
<p>Below is a link to Roger Meier&#8217;s web site where you can download CoolTerm:<br />
<a class="yt-simple-endpoint style-scope yt-formatted-string" href="http://freeware.the-meiers.org/">http://freeware.the-meiers.org/</a></p>
<p><strong>LATEST PCB (Version 9.3)</strong> now includes additional grounding tracks and extra pin added for keypad header so either 5&#215;4 or 4&#215;4 matrix keypad can be used easily.</p>
<p style="text-align: center;"><img class="alignnone size-full wp-image-476" src="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ver9_3_PCB_bottom.jpg" alt="" width="779" height="797" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ver9_3_PCB_bottom.jpg 779w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ver9_3_PCB_bottom-293x300.jpg 293w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ver9_3_PCB_bottom-768x786.jpg 768w, http://www.scullcom.uk/wp-content/uploads/2016/12/DC_Load_ver9_3_PCB_bottom-60x60.jpg 60w" sizes="(max-width: 779px) 100vw, 779px" />Above shows underside of PCB showing changes<img class="size-large wp-image-477 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/12/Component_Layout_9_3.jpg" alt="" width="648" height="667" srcset="http://www.scullcom.uk/wp-content/uploads/2016/12/Component_Layout_9_3.jpg 781w, http://www.scullcom.uk/wp-content/uploads/2016/12/Component_Layout_9_3-291x300.jpg 291w, http://www.scullcom.uk/wp-content/uploads/2016/12/Component_Layout_9_3-768x791.jpg 768w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p><strong>The PCB (version 9.3) gerber files can be downloaded from the link below:</strong><br />
<a href="http://www.scullcom.com/DC_Load_ver9_3_gerber_files.zip">http://www.scullcom.com/DC_Load_ver9_3_gerber_files.zip</a></p>
<p>The version 9.3 schematic, component layout and updated parts list can be downloaded from the link below:<br />
<a href="http://www.scullcom.com/DC_Load_ver9_3_files.zip">http://www.scullcom.com/DC_Load_ver9_3_files.zip</a></p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/design-build-an-electronic-dc-load-part-1/feed/</wfw:commentRss>
		<slash:comments>211</slash:comments>
		</item>
		<item>
		<title>Millivolt Meter MK2</title>
		<link>http://www.scullcom.uk/millivolt-meter-mk2/</link>
		<comments>http://www.scullcom.uk/millivolt-meter-mk2/#comments</comments>
		<pubDate>Mon, 14 Nov 2016 15:15:47 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Millivolt Meter]]></category>
		<category><![CDATA[Projects]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=407</guid>
		<description><![CDATA[This version of my Millivolt Meter is an upgrade on my previous project version and uses a small PCB and Arduino Pro Mini. The display now uses an I2C interface. The build now includes a Hold Reading and Bar Graph display. In addition the calibration method has been upgraded to use a 5 volt reference [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>This version of my Millivolt Meter is an upgrade on my previous project version and uses a small PCB and Arduino Pro Mini.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/CiTPUmqE3Yg?feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>The display now uses an I2C interface. The build now includes a Hold Reading and Bar Graph display. In addition the calibration method has been upgraded to use a 5 volt reference source. The latest version of software has also been improved resulting in a faster refresh rate. Below are links to download the latest software and also a zip file which contains PDF&#8217;s for the Schematic, Parts List, Wiring Diagram, Plate and Drill Templates and Front and Back Panel Artwork.</p>
<ul>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Millivolt_Meter_MK2_ver33.ino" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwj_p4H12JnRAhXGJRwKHaAYBl4o-B0" data-url="http://www.scullcom.com/Millivolt_Meter_MK2_ver33.ino" data-target-new-window="True">Arduino Software</a></li>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Millivoltmeter_MK2.zip" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwj_p4H12JnRAhXGJRwKHaAYBl4o-B0" data-url="http://www.scullcom.com/Millivoltmeter_MK2.zip" data-target-new-window="True">Parts List, Schematic, Wiring Diagram, Plate and Drill templates and Front and Back Panel Artwork</a></li>
</ul>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/millivolt-meter-mk2/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>Milliohm Meter Update</title>
		<link>http://www.scullcom.uk/milliohm-meter-update/</link>
		<comments>http://www.scullcom.uk/milliohm-meter-update/#respond</comments>
		<pubDate>Fri, 23 Sep 2016 14:08:59 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Milliohm Meter]]></category>
		<category><![CDATA[Projects]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=402</guid>
		<description><![CDATA[This is an update to my earlier Milliohm Meter project. Here we use a small custom PCB which is available to use. There are also some improvements to the design and the project is built in to a small case. Below are the links to download the updated schematic, front panel artwork, drill template for [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>This is an update to my earlier Milliohm Meter project. Here we use a small custom PCB which is available to use. There are also some improvements to the design and the project is built in to a small case.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/y9gWZH9k_BQ?feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>Below are the links to download the updated schematic, front panel artwork, drill template for case and full detailed parts list.</p>
<ul>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Milliohm_Meter_Mk2_schematic.pdf" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwi5qcmb1ZnRAhXO2xYKHaF7B3co-B0" data-url="http://www.scullcom.com/Milliohm_Meter_Mk2_schematic.pdf" data-target-new-window="True">Schematic</a></li>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Milliohm_Meter_Mk2_Parts_List.pdf" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwi5qcmb1ZnRAhXO2xYKHaF7B3co-B0" data-url="http://www.scullcom.com/Milliohm_Meter_Mk2_Parts_List.pdf" data-target-new-window="True">Parts List</a></li>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Milliohm_Meter_front_panel_Mk2.pdf" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwi5qcmb1ZnRAhXO2xYKHaF7B3co-B0" data-url="http://www.scullcom.com/Milliohm_Meter_front_panel_Mk2.pdf" data-target-new-window="True">Front Panel</a></li>
<li><a class=" yt-uix-servicelink " href="http://www.scullcom.com/Milliohm_Meter_Mk2_drill_template.pdf" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwi5qcmb1ZnRAhXO2xYKHaF7B3co-B0" data-url="http://www.scullcom.com/Milliohm_Meter_Mk2_drill_template.pdf" data-target-new-window="True">Drill Template</a></li>
</ul>
<p>Below is the link for the PCB from OSH Park: <a class=" yt-uix-servicelink " href="https://oshpark.com/shared_projects/UWvehNO2" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwi5qcmb1ZnRAhXO2xYKHaF7B3co-B0" data-url="https://oshpark.com/shared_projects/UWvehNO2" data-target-new-window="True">https://oshpark.com/shared_projects/UWvehNO2</a></p>
<p>If of interest, in addition the Scullcom T-Shirt is a available from <a class=" yt-uix-servicelink " href="http://www.redbubble.com/shop/scullcom" target="_blank" rel="nofollow" data-servicelink="CC8Q6TgiEwi5qcmb1ZnRAhXO2xYKHaF7B3co-B0" data-url="http://www.redbubble.com/shop/scullcom" data-target-new-window="True">http://www.redbubble.com/shop/scullcom</a></p>
<p><strong>Please note:</strong><br />
Save the front panel artwork and drill template pdf files to your PC hard drive and then open them up again in your PDF reader so as to ensure they are the correct size.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/milliohm-meter-update/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Design &#038; Build a Pulse Generator &#8211; Part 1</title>
		<link>http://www.scullcom.uk/design-build-a-pulse-generator-part-1/</link>
		<comments>http://www.scullcom.uk/design-build-a-pulse-generator-part-1/#comments</comments>
		<pubDate>Wed, 29 Jun 2016 16:47:52 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Projects]]></category>
		<category><![CDATA[Pulse Generator]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=378</guid>
		<description><![CDATA[In this project we will design and build a pulse generator using a LTC6992 from Linear Technology. In this first part we will test the functions of this IC to change both frequency and duty cycle (pulse width). Other parts to this project will build on this basic design with additional features and modifications/improvements. The [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In this project we will design and build a pulse generator using a LTC6992 from Linear Technology. In this first part we will test the functions of this IC to change both frequency and duty cycle (pulse width). Other parts to this project will build on this basic design with additional features and modifications/improvements.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/nh8k1J0bObA?feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>The LTC6992 is a Voltage-Controlled Pulse Width Modulator with selectable frequency ranges. There are 4 variants of this IC which differ in their minimum/maximum duty cycle control. The version we will be using is the LTC6992-2 (duty cycle range from 5% to 95%).</p>
<p><img class="size-large wp-image-384 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992.jpg" alt="LTC6992" width="648" height="442" srcset="http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992.jpg 935w, http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992-300x205.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992-768x524.jpg 768w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p>The voltage on pin 3 is held constant at 1 volt by the internal voltage reference. The amount of current from the SET pin (pin 3) determines the frequency of the master oscillator by varying the resistor at pin 3. The current swing should be between the ranges of 1.25μA and 20μA, this means that the Rset resistor value at pin 3 can range from 800KΩ maximum to 50KΩ minimum.</p>
<p><img class="size-large wp-image-380 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992_block_diagram-1024x651.jpg" alt="LTC6992_block_diagram" width="648" height="412" srcset="http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992_block_diagram-1024x651.jpg 1024w, http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992_block_diagram-300x191.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992_block_diagram-768x488.jpg 768w, http://www.scullcom.uk/wp-content/uploads/2016/06/LTC6992_block_diagram.jpg 1199w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p>Above is a more detailed view of the LTC6992. The programmable divider is control by the first 3 bits from the internal 4 Bit ADC, with the most significant bit controlling the output pulse polarity.</p>
<p><img class="size-large wp-image-381 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_block_diagram.jpg" alt="Pulse_Gen_block_diagram" width="648" height="628" srcset="http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_block_diagram.jpg 721w, http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_block_diagram-300x291.jpg 300w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p>The frequency of the oscillator is set by a variable resistor from pin 3 of LTC6992 to ground. It is important that the connecting leads are a short as possible otherwise you will get jitter and instability at the higher frequency ranges.</p>
<p>The pulse width (duty cycle) is set by applying a voltage to pin 1 of the LTC6992. The voltage range should be from 0 to 1 volt so we use a LM4140CCM-1.0 to provide a precision 1.024V which is then fed to a 100K pot, the centre of which then feeds pin 1 of the IC.</p>
<p>The voltage to control the frequency ranges and output pulse polarity is provided by a MCP4725 (12 Bit DAC).</p>
<p>The I2C bus of the Arduino Nano (A4, A5) are used to control both the MCP4725 (12 Bit DAC) and the 20&#215;4 LCD (via a I2C Adapter).</p>
<p>The frequency range selector switch provides a voltage to A0 of the Arduino which is then used in software to select the required data for the MCP4725.</p>
<p>A simple switch from A2 of the Arduino to ground controls the output polarity of the signal. A2 in this case is used a simple digital input and its internal pull-up resistor is selected in software.</p>
<p><img class="wp-image-379 alignnone" src="http://www.scullcom.uk/wp-content/uploads/2016/06/Duty_Cycle_graph.jpg" alt="Duty_Cycle_graph" width="641" height="632" srcset="http://www.scullcom.uk/wp-content/uploads/2016/06/Duty_Cycle_graph.jpg 868w, http://www.scullcom.uk/wp-content/uploads/2016/06/Duty_Cycle_graph-300x296.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/06/Duty_Cycle_graph-768x756.jpg 768w, http://www.scullcom.uk/wp-content/uploads/2016/06/Duty_Cycle_graph-60x60.jpg 60w" sizes="(max-width: 641px) 100vw, 641px" /></p>
<p>The above graph shows the relationship between voltage on pin 1 of the LTC6992 and output pulse duty cycle. It shows the swing for the LTC6992-2 (5% to 95%).</p>
<p>Below are links to the Schematic, PCB, PCB layout and Arduino software.</p>
<p><a href="http://www.scullcom.com/Pulse_Gen_Schematic_Part1.pdf" target="_blank">http://www.scullcom.com/Pulse_Gen_Schematic_Part1.pdf</a></p>
<p><a href="http://www.scullcom.com/Pulse_Generator_PCB.pdf" target="_blank">http://www.scullcom.com/Pulse_Generator_PCB.pdf</a></p>
<p><a href="http://www.scullcom.com/Pulse_Gen_Layout.pdf" target="_blank">http://www.scullcom.com/Pulse_Gen_Layout.pdf</a></p>
<p><a href="http://www.scullcom.com/Pulse_Generator_ver1.ino" target="_blank">http://www.scullcom.com/Pulse_Generator_ver1.ino</a></p>
<p>Note the Arduino software uses LiquidCrystal_I2C.h and Adafruit_MCP4725.h libraries which you need to be installed. Links to library downloads below:</p>
<p><a href="https://bitbucket.org/fmalpartida/new-liquidcrystal/downloads/LiquidCrystal_V1.2.1.zip" target="_blank">https://bitbucket.org/fmalpartida/new-liquidcrystal/downloads/LiquidCrystal_V1.2.1.zip</a></p>
<p><a href="https://github.com/adafruit/Adafruit_MCP4725/archive/master.zip" target="_blank">https://github.com/adafruit/Adafruit_MCP4725/archive/master.zip</a></p>
<p><img class="size-large wp-image-382 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_display.jpg" alt="Pulse_Gen_display" width="389" height="379" srcset="http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_display.jpg 389w, http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_display-300x292.jpg 300w" sizes="(max-width: 389px) 100vw, 389px" /></p>
<p style="text-align: center;"><strong>Display shows frequency range and duty cycle level</strong></p>
<p><img class="size-large wp-image-383 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_test.jpg" alt="Pulse_Gen_test" width="648" height="588" srcset="http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_test.jpg 703w, http://www.scullcom.uk/wp-content/uploads/2016/06/Pulse_Gen_test-300x272.jpg 300w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p style="text-align: center;"><strong>Sample of waveform output</strong></p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/design-build-a-pulse-generator-part-1/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>Design &#038; Build a Stair-Step Waveform Generator</title>
		<link>http://www.scullcom.uk/design-build-a-stair-step-waveform-generator/</link>
		<comments>http://www.scullcom.uk/design-build-a-stair-step-waveform-generator/#comments</comments>
		<pubDate>Thu, 26 May 2016 21:02:25 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Projects]]></category>
		<category><![CDATA[Stair-Step Waveform Generator]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=334</guid>
		<description><![CDATA[In this project we will design and build a Stair-Step Waveform Generator which gives a 5 volt peak-to-peak output with steps of 1 volt. Both a fixed oscillator and variable oscillator options will be included. A rotary switch will also give access to additional step waveforms. &#160; &#160; A 74HC4017 Johnson Counter is used to [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In this project we will design and build a Stair-Step Waveform Generator which gives a 5 volt peak-to-peak output with steps of 1 volt. Both a fixed oscillator and variable oscillator options will be included. A rotary switch will also give access to additional step waveforms.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/Cg7lI0CShrI?feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>A 74HC4017 Johnson Counter is used to drive a diode and resistor divider network to provide a stair-step waveform, giving an amplitude of 3 volt peak-to-peak. This signal is then coupled via a isolating capacitor to a buffer stage and amplifier which is set to give a final output waveform of 5 volt peak-to-peak. Each step is 1 volt.</p>
<p>The image below shows the clock input to the 74HC4017 and the first three output signal Q0, Q1 and Q2. All pulses are 5 volt in amplitude.</p>
<p><img class="alignnone size-full wp-image-336" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image1.jpg" alt="Image1" width="704" height="412" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image1.jpg 704w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image1-300x176.jpg 300w" sizes="(max-width: 704px) 100vw, 704px" /></p>
<p>As the outputs from the 74HC4017 are feed via isolation diodes the amplitude of the pulses feed to the resistor divider network is about 4.4 volt (due to 0.6 volt diode voltage drop). The common earth return resistor in the divider network is fixed at 1.2K (in the final circuit this is replaced with a 1K in series with a 1K preset so as to provide some setup adjustment). Each of the other resistors in the network are calculated to provide a pulse output across the 1.2K which increment in steps of 0.6 volt to give a final stair-step waveform of 3 volt peak-to-peak.</p>
<p><img class="alignnone size-full wp-image-337" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image_resistors.jpg" alt="Image_resistors" width="747" height="455" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image_resistors.jpg 747w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image_resistors-300x183.jpg 300w" sizes="(max-width: 747px) 100vw, 747px" /></p>
<p>The resistor values where calculated to be 7.6K, 3.2K, 1.73K, 1K and 560Ω and available resistor of 0.1% tolerance of 7.68K, 3.24K, 1.74K, 1K and 562Ω were used. If you do not have these values the I have found that standard values of 7.5K, 3.3K, 1.8K, 1K and 560Ω (all 1%) work well.</p>
<p><img class="alignnone size-full wp-image-338" src="http://www.scullcom.uk/wp-content/uploads/2016/05/ImageResistorValues.jpg" alt="ImageResistorValues" width="746" height="692" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/ImageResistorValues.jpg 746w, http://www.scullcom.uk/wp-content/uploads/2016/05/ImageResistorValues-300x278.jpg 300w" sizes="(max-width: 746px) 100vw, 746px" /></p>
<p>In the original circuit Q9 (pin11) was connected directly to ground. This was later changed (in Version 2) by adding a 10K resistor to ground.</p>
<p>Below are links to version 2 of the schematic and PCB artwork:</p>
<p><a href="http://www.scullcom.com/Stair_Step_Gen_ver2_Schematic.pdf">http://www.scullcom.com/Stair_Step_Gen_ver2_Schematic.pdf</a></p>
<p><a href="http://www.scullcom.com/Stair_Step_Gen_ver2_PCB.pdf">http://www.scullcom.com/Stair_Step_Gen_ver2_PCB.pdf</a></p>
<p>The output stage buffer and amplifier uses a NE5532P Dual OP Amp which is powered from a +6 volt and -6 volt split supply which is generated using a TLE2426 &#8220;Rail Splitter&#8221; IC which produces a virtual earth splitting the 12 volt supply.</p>
<p>The Johnson Counter IC (74HC4017) can be supplied with a clock pulse from a fixed oscillator circuit using a 1MHz Crystal Oscillator module and a 74HC390 divider IC which gives either a 10KHz or 100KHz clock signal or a variable oscillator. The type of oscillator is selected by links of the PCB (which could be replaced with switches if required).</p>
<p>The variable oscillator uses a Linear Technology LTC1799 which is a precision oscillator in a small SOT-23 (5 pin) package. The frequency of the oscillator is simply set by an external resistor which in this project uses a variable preset (1MΩ preset in series with a 100KΩ resistor). The output of this oscillator can also be divided by 1, 10 and 100 by use of pin 4 of the IC; no connection results in ÷10, pin 4 to ground results in ÷1 and pin 4 to V+ (5v) results in ÷100.</p>
<p>Below you see the LTC1799 soldered on to the PCB print side.</p>
<p><img class="size-full wp-image-343 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image3.jpg" alt="Image3" width="656" height="427" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image3.jpg 656w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image3-300x195.jpg 300w" sizes="(max-width: 656px) 100vw, 656px" /></p>
<p>Below you see details of the links on the PCB to set both the type of oscillator to use and the frequency:</p>
<p><img class="size-large wp-image-344 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image10-1024x463.jpg" alt="Image10" width="648" height="293" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image10-1024x463.jpg 1024w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image10-300x136.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image10-768x348.jpg 768w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p><strong>Parts List</strong></p>
<p>C1, C3, C4, C6, C7, C10, C11 &#8211; 100nF<br />
C2 &#8211; 2200uF<br />
C5 &#8211; 470uF<br />
C8, C9 &#8211; 10uF<br />
D1, D2, D3, D4, D5, D6, D7, D8, D9 &#8211; 1N4148 (small switching diode)<br />
JP1, JP2 – 2 pin SIL option link with link plug<br />
JP3, JP4, JP5, JP6, JP7, JP8, JP9, JP11 &#8211; Wire Links<br />
JP10 – 3 pin SIL option link with link plug<br />
P1 to P6 – PCB terminal pins<br />
R1 &#8211; 10K<br />
R2, R10 &#8211; 100K<br />
R3, R9, R11, R12 &#8211; 1K<br />
R4 &#8211; 7.68K (± 0.1%) (RS stock No. 701-7673) or 7.5K (±1%)<br />
R5 &#8211; 3.24K (± 0.1%) (RS stock No. 701-7550) or 3.3K (±1%)<br />
R6 &#8211; 1.74K (± 0.1%) (RS stock No. 754-8758) or 1.8K (±1%)<br />
R7 &#8211; 1K (± 0.1%) (RS stock No. 701-7383) or 1K 1K (±1%)<br />
R8 &#8211; 562Ω (± 0.1%) (RS stock No. 701-7305) or 560Ω (±1%)<br />
RV2 &#8211; 1M Potentiometer or Preset<br />
RV3 &#8211; 1K Preset<br />
RV4 &#8211; 10K Preset<br />
S1 &#8211; Rotary Switch, 6 Way, Through Hole (RS Components Ltd stock No. 665-196)<br />
SW2 &#8211; Single Pole ON-OFF-ON switch or 3 pin SIL option link with link plug<br />
U1 &#8211; LTC1799 Linear Technology precision oscillator in SOT-23 (5 pin) package<br />
U2 &#8211; LM7812 12 volt regulator<br />
U3 &#8211; LM7805 5 volt regulator<br />
U4 &#8211; 74HC4017 Johnson decade counter with 10 decoded outputs<br />
U5 &#8211; TLE2426 Texas Instruments, Supply Rail Splitter, &#8220;virtual ground&#8221; in TO-92 package<br />
U6 &#8211; NE5532P Texas Instruments, Dual Op Amp<br />
U7 &#8211; 74LS390 Texas Instruments 4-stage, Decade, Decade Counter/Divider<br />
XTL1 &#8211; 5V 1MHz Crystal Oscillator Modules Through Hole (DIL-14 format) available on eBay from seller ha5ia for £2.98. Link below:<br />
http://www.ebay.co.uk/itm/181176576561?_trksid=p2057872.m2749.l2649&#038;ssPageName=STRK%3AMEBIDX%3AIT</p>
<p>1 x 8 pin DIL socket<br />
2 x 16 pin DIL socket<br />
1 x 15v or 18v DC power adapter</p>
<p><strong>Additional Features</strong></p>
<p>This project also provide step waveforms of 1, 2, 3 or 4 steps (as shown below) by use of a rotary switch to connect the master reset on the Johnson Counter IC with different outputs.</p>
<p><img class="alignnone size-full wp-image-339" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image5.jpg" alt="Image5" width="532" height="308" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image5.jpg 532w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image5-300x174.jpg 300w" sizes="(max-width: 532px) 100vw, 532px" /> <img class="alignnone size-large wp-image-340" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image6.jpg" alt="Image6" width="544" height="321" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image6.jpg 544w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image6-300x177.jpg 300w" sizes="(max-width: 544px) 100vw, 544px" /> <img class="alignnone size-large wp-image-341" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image7.jpg" alt="Image7" width="538" height="306" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image7.jpg 538w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image7-300x171.jpg 300w" sizes="(max-width: 538px) 100vw, 538px" /> <img class="alignnone size-large wp-image-342" src="http://www.scullcom.uk/wp-content/uploads/2016/05/Image8.jpg" alt="Image8" width="535" height="305" srcset="http://www.scullcom.uk/wp-content/uploads/2016/05/Image8.jpg 535w, http://www.scullcom.uk/wp-content/uploads/2016/05/Image8-300x171.jpg 300w" sizes="(max-width: 535px) 100vw, 535px" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/design-build-a-stair-step-waveform-generator/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Design &#038; Build a Low Current Reference Source</title>
		<link>http://www.scullcom.uk/design-build-a-low-current-reference-source/</link>
		<comments>http://www.scullcom.uk/design-build-a-low-current-reference-source/#comments</comments>
		<pubDate>Wed, 30 Mar 2016 22:35:56 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Low Current Reference]]></category>
		<category><![CDATA[Projects]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=324</guid>
		<description><![CDATA[In this project we will design and built a Low Current Reference Source which has four switched ranges, namely; 100μA, 200μA, 300μA and 400μA. No calibration is required and it will operate from a standard 9 volt battery with no on/off switch. The unit will have an accuracy of ±0.5% or better. &#160; This project [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In this project we will design and built a Low Current Reference Source which has four switched ranges, namely; 100μA, 200μA, 300μA and 400μA. No calibration is required and it will operate from a standard 9 volt battery with no on/off switch. The unit will have an accuracy of ±0.5% or better.</p>
<p>&nbsp;</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/VrnVMnwlQXk?feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>This project uses the Texas Instruments REF200 Dual Current Source and Current Sink I.C. This I.C. can operate over a wide voltage range from 2.5 V to 40 V and still maintain the accuracy of the output current source. Accuracy of the I.C. is ±0.5%. It also has a very low temperature Coefficient: ±25 ppm/°C.</p>
<p>From the links below you can download the schematic, wiring diagram and front panel artwork for this project.</p>
<p><a href="http://www.scullcom.com/Low_Current_Ref_Schematic.pdf" target="_blank">Low_Current_Ref_Schematic.pdf</a><br />
<a href="http://www.scullcom.com/Low_Current_Ref_Wiring.pdf" target="_blank">Low_Current_Ref_Wiring.pdf</a><br />
<a href="http://www.scullcom.com/Low_Current_Ref_front_panel.pdf" target="_blank">Low_Current_Ref_front_panel.pdf</a></p>
<p><img class="size-full wp-image-326 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/03/Image10.jpg" alt="Image10" width="647" height="570" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/Image10.jpg 647w, http://www.scullcom.uk/wp-content/uploads/2016/03/Image10-300x264.jpg 300w" sizes="(max-width: 647px) 100vw, 647px" /></p>
<p><img class="size-full wp-image-327 aligncenter" src="http://www.scullcom.uk/wp-content/uploads/2016/03/Image20.jpg" alt="Image20" width="874" height="668" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/Image20.jpg 874w, http://www.scullcom.uk/wp-content/uploads/2016/03/Image20-300x229.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/03/Image20-768x587.jpg 768w" sizes="(max-width: 874px) 100vw, 874px" /></p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/design-build-a-low-current-reference-source/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Design &#038; Build a GPS locked Frequency Standard – Part 4</title>
		<link>http://www.scullcom.uk/design-build-a-gps-locked-frequency-standard-part-4/</link>
		<comments>http://www.scullcom.uk/design-build-a-gps-locked-frequency-standard-part-4/#comments</comments>
		<pubDate>Thu, 24 Mar 2016 23:19:00 +0000</pubDate>
		<dc:creator><![CDATA[Louis Scully]]></dc:creator>
				<category><![CDATA[Frequency Reference]]></category>
		<category><![CDATA[Projects]]></category>
		<category><![CDATA[Uncategorised]]></category>

		<guid isPermaLink="false">http://www.scullcom.uk/?p=250</guid>
		<description><![CDATA[In this 4th part of this project we upgrade the software to give satellite data and frequency lock display. Plus the current frequency on the display is improved to give reading in MHz, KHz or Hz. The new software version can be downloaded from the link below: http://www.scullcom.com/GPS_Ref_Version6.zip PLEASE NOTE TO COMPILE THIS CODE YOU [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In this 4th part of this project we upgrade the software to give satellite data and frequency lock display. Plus the current frequency on the display is improved to give reading in MHz, KHz or Hz.</p>
<p><iframe width="648" height="365" src="https://www.youtube.com/embed/QUiVZFkBh8k?feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>The new software version can be downloaded from the link below:<br />
<a href="http://www.scullcom.com/GPS_Ref_Version6.zip" target="_blank">http://www.scullcom.com/GPS_Ref_Version6.zip</a><br />
PLEASE NOTE TO COMPILE THIS CODE YOU NEED TO BE RUNNING THE LATEST VERSION OF ARDUINO IDE (version 1.6.7)<br />
Below is a link to download a user guide on this project which includes circuit detail, PCB detailed layouts, schematics and software details. The file is a zip file which contains a PDF document:<br />
<a href="http://www.scullcom.com/Scullcom_GPS_Ref_manual.zip" target="_blank">http://www.scullcom.com/Scullcom_GPS_Ref_manual.zip</a></p>
<p><strong>Reading the GPS module data to extract the number of Satellites detected</strong></p>
<p>When the GPS module starts receiving satellite data it provides a constant stream of data sentences which are know as NMEA sentences. Within this data stream the most important NMEA sentences include the GGA which provides the current Fix data, the RMC which provides the minimum GPS sentences information, and the GSA which provides the Satellite status data. In our project we will use the GGA data stream to extract the number of satellites detected and locked on to.</p>
<p>Below is an example of a typical GGA data sentence:</p>
<p><strong>$GPGGA,123519.00,4807.03830,N,01131.00000,E,1,08,0.9,545.4,M,46.9,M,,*47</strong></p>
<p>Where:</p>
<ul>
<li>GGA                      Global Positioning System Fix Data</li>
<li>123519.00            Fix taken at 12:35:19 UTC (current time)</li>
<li>4807.03830,N    Latitude 48 deg 07.038&#8242; N</li>
<li>01131.00000,E   Longitude 11 deg 31.000&#8242; E</li>
<li>1 Fix quality:  0 = invalid, 1 = GPS fix (SPS), 2 = DGPS fix, 3 = PPS fix, 4 = Real Time Kinematic,<br />
5 = Float RTK, 6 = estimated (dead reckoning) (2.3 feature), 7 = Manual input mode,<br />
8 = Simulation mode</li>
<li>08                    Number of satellites being tracked</li>
<li>0.9                   Horizontal dilution of position</li>
<li>545.4,M         Altitude, Meters, above mean sea level</li>
<li>46.9,M           Height of geoid (mean sea level) above WGS84 ellipsoid</li>
<li>(empty field) time in seconds since last DGPS update</li>
<li>(empty field) DGPS station ID number</li>
<li>*47                   the checksum data, always begins with *</li>
</ul>
<p>We will be using the data highlighted above to show the number of satellite on our LCD. In order to extract this information we will set up a second Software Serial port.</p>
<p>First we need to identify the NMEA data we need to capture and we do this with the flowing code:</p>
<p>char gpsin[8] = &#8220;$GPGGA,&#8221;;             //define a character string “$GPGGA,”<br />
if (GPSreceiver.find(gpsin)) {           //if serial data starts with the characters “$GPGGA,”<br />
GPGGAdata = GPSreceiver.readStringUntil(&#8216;\n&#8217;);  //read data until carriage return</p>
<p>When the characters &#8220;$GPGGA,&#8221; are detected it starts reading the remainder of the string data in to the buffer. So the captured data starts from the first digit of the &#8216;time&#8217; data (and not from the $ character). The captured data then looks as follows:</p>
<p><strong>123519.00,4807.03830,N,01131.00000,E,1,08,0.9,545.4,M,46.9,M,,*47</strong></p>
<p>With in the main loop we will use the substring command to extract the number of satellites from the GGA data sentence. This is a simply and easy way of extracting the data you wish to use. The substring command is defined as follows:<br />
substring(index, to) – this returns a string with the characters starting from index and ending at the character location before the to<br />
So to extract the number of satellites (highlighted in read) from the GGA data sentence below</p>
<p>&nbsp;</p>
<p><img class="alignnone size-large wp-image-322" src="http://www.scullcom.uk/wp-content/uploads/2016/03/NMEA_data_stripped-1024x142.jpg" alt="NMEA_data_stripped" width="648" height="90" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/NMEA_data_stripped-1024x142.jpg 1024w, http://www.scullcom.uk/wp-content/uploads/2016/03/NMEA_data_stripped-300x42.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/03/NMEA_data_stripped-768x107.jpg 768w, http://www.scullcom.uk/wp-content/uploads/2016/03/NMEA_data_stripped.jpg 1446w" sizes="(max-width: 648px) 100vw, 648px" /></p>
<p>We use the following code:</p>
<p><code class="codeblock">sats = GPGGAdata.substring(39,41);</code></p>
<p>The string “sats” now is equal to “08”<br />
If you wanted to extract other data you simply need to change the “index, to” numbers in the substring. For example to extract the current time to a string labeled time then you would use:</p>
<p><code class="codeblock">time = GPGGAdata.substring(7,13); //the string “time” now is equal to “123519”</code></p>
<p><strong>Details of Code used in program loop to extract number of satellites and display on LCD</strong></p>
<p><code class="codeblock">//new variables added at start of program<br />
String sats; //number of satellites detected<br />
String GPGGAdata;           //satellite data string from GPS module<br />
String FreqStatus;          //used to print Frequency locked if applicable<br />
int satNum;                 //number of satellites detected as an integer<br />
//set up a Software Serial port called GPSreceiver<br />
SoftwareSerial GPSreceiver (14,255); //14(A0) is RX on Arduino connected to GPS TX pin.<br />
//255 a nonexistent pin number used to free up a pin<br />
//in void setup() include serial monitor command and set to 57600 baud.<br />
Serial.begin(57600);                 //this is simply used for testing<br />
//The # key used to tell the unit to display the number of satellites on LCD.<br />
// below is the software code used in the main loop to show number of satellites when //“#” key pressed:<br />
case '#'://# pressed Show number of satellites detected and frequency status<br />
lcd.clear(); //clear LCD<br />
lcd.print("Satellites =");        //print the word 'Satellites =' on the top line of LCD<br />
do {                             //now loop<br />
GPSreceiver.flush();   //clear any data which may be in the Serial Buffer<br />
if (GPSreceiver.available())          //if any GPS data is available<br />
{<br />
GPSreceiver.read();         //read GPS serial data streams if available<br />
}<br />
char gpsin[8] = "$GPGGA,";       //define a character string “$GPGGA,”<br />
if (GPSreceiver.find(gpsin)) {     //if serial data starts with the characters “$GPGGA,”<br />
GPGGAdata = GPSreceiver.readStringUntil('\n'); //read data until a carriage return<br />
sats = GPGGAdata.substring(39,41); //extract number of satellites from data string<br />
}<br />
satNum = sats.toInt(); //convert sats string to an integer so as to remove leading zero<br />
if (satNum &gt;0){<br />
FreqStatus = "Frequency Locked";  //if satellites detected the status string<br />
//= “Frequency Locked”<br />
}else{<br />
FreqStatus = " ";                 //16 spaces to clear line if no lock<br />
}<br />
Serial.print(GPGGAdata);   //These serial print lines are for testing using<br />
//Serial Monitor<br />
Serial.println(); //full GPGGA data sentence printed and then carriage return<br />
Serial.print("Satellite = ");<br />
Serial.print(satNum);<br />
Serial.println();<br />
Serial.print(FreqStatus);<br />
Serial.println();<br />
lcd.setCursor(13,0); //set cursor position to column 13 of row 0 (first line on LCD)<br />
lcd.print(" ");  //clears number if no satellites detected (3 spaces used)<br />
lcd.setCursor(13,0); //set cursor position to column 13 of row 0 (first line on LCD)<br />
lcd.print(satNum);         //print number of satellites to LCD<br />
lcd.setCursor(0,1); //set cursor position to column 0 of row 1 (second line on LCD)<br />
lcd.print(FreqStatus);     //print Frequency Locked status<br />
}<br />
while (customKeypad.getKey()!= '#'); //if # key pressed again break out of loop<br />
displayCurrentFrequency();   //and display current frequency subroutine<br />
break;                       //break and return to main program loop</code></p>
<p><strong>The software for this project is made up of three parts all of which are include in a download zip file.</strong></p>
<p><img class="alignnone size-full wp-image-253" src="http://www.scullcom.uk/wp-content/uploads/2016/03/folder1.jpg" alt="folder1" width="846" height="85" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/folder1.jpg 846w, http://www.scullcom.uk/wp-content/uploads/2016/03/folder1-300x30.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/03/folder1-768x77.jpg 768w" sizes="(max-width: 846px) 100vw, 846px" /></p>
<p>Once the file is unzipped you will have a folder as above. In this folder you will find the following files shown below:</p>
<p><img class="alignnone size-full wp-image-254" src="http://www.scullcom.uk/wp-content/uploads/2016/03/folder2.jpg" alt="folder2" width="847" height="132" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/folder2.jpg 847w, http://www.scullcom.uk/wp-content/uploads/2016/03/folder2-300x47.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/03/folder2-768x120.jpg 768w" sizes="(max-width: 847px) 100vw, 847px" /></p>
<p>Please ensure that you are running the latest version of the Arduino IDE which is “Arduino 1.6.7” (older versions may not work). Run the “GPS_Ref_Version6” file and you should find the software opens up in the Arduino IDE as shown below:</p>
<p><img class="alignnone size-full wp-image-302" src="http://www.scullcom.uk/wp-content/uploads/2016/03/codeV6.jpg" alt="codeV6" width="808" height="704" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/codeV6.jpg 808w, http://www.scullcom.uk/wp-content/uploads/2016/03/codeV6-300x261.jpg 300w, http://www.scullcom.uk/wp-content/uploads/2016/03/codeV6-768x669.jpg 768w" sizes="(max-width: 808px) 100vw, 808px" /></p>
<p>Now compile and upload the software to the Arduino nano on the main PCB.</p>
<hr />
<p><strong>GPS Locked Frequency Standard Project</strong></p>
<p>This project will use a small GPS module which has the u-blox Neo-7 GPS receiver. These modules are readily available on sites like eBay for around £12, they tend to be advertised for use with flight controllers on model aircraft.<br />
The u-blox receiver is normally fitted in the centre of a small PCB. Additional components on the PCB include a 3.3 volt Low Drop Voltage Regulator, timepulse and power on LED’s and EEPROM. There is also some short term back-up supply for the DRAM of the Neo-7 receiver by use of a 0.08F super capacitor (Seiko XH414HG). These capacitors normally only provide power off back-up for around a day or so if you are lucky.<br />
These GPS modules are usually configured by default to provide a 1Hz timing pulse output which is normally used to flash a green LED to indicate when the unit has a fix on satellites and the local oscillator is locked to the GPS signal. By default this timing pulse provides a 100mSec pulse every 1000mSec, as shown below.</p>
<p><img class="alignnone size-full wp-image-262" src="http://www.scullcom.uk/wp-content/uploads/2016/03/TimePulse.jpg" alt="TimePulse" width="737" height="246" srcset="http://www.scullcom.uk/wp-content/uploads/2016/03/TimePulse.jpg 737w, http://www.scullcom.uk/wp-content/uploads/2016/03/TimePulse-300x100.jpg 300w" sizes="(max-width: 737px) 100vw, 737px" /></p>
<p>This timing pulse can be configured to provide different frequencies and different duty cycle and we will be using this option in this project to change the frequency and fix the duty cycle to 50%.<br />
GPS satellites are primarily used as a navigation system; this global positioning system can also used to disseminate precise time, time intervals, and frequency. The GPS carrier signals originate from an on-board atomic clock (oscillator) which is also monitored and controlled by ground stations in the United States to ensure it agrees with the Coordinated Universal Time (UTC). UTC is the primary time standard by which the world regulates clocks and time.<br />
Atomic clocks are based on the natural atomic oscillations of gases in resonant cavities. When isolated from magnetic fields, rubidium and cesium gases will resonate at specific frequencies under controlled conditions. These frequencies are so accurate that since 1967 the length of the second has been defined as the frequency of a specific resonant mode of the cesium atom, producing 9,192,631,770 oscillations in one second.</p>
<p>The u-blox receiver uses a built-in 48MHz oscillator.</p>
<p>There are various versions of the u-blox receiver available, some of which can be configured to provide a frequency pulse output in the range 0.25Hz to 10MHz. Those which are suitable for this project are listed in the table below:</p>
<table  class=" table table-hover" style="height: 490px;" width="644">
<tbody>
<tr>
<td width="205"><strong>u-blox Receiver Type</strong></td>
<td width="205"><strong>Type of Memory fitted</strong></td>
<td width="205"><strong>Type of Oscillator used</strong></td>
</tr>
<tr>
<td width="205">Neo-6T</td>
<td width="205">ROM</td>
<td width="205">TCXO</td>
</tr>
<tr>
<td width="205">Neo-7M</td>
<td width="205">ROM</td>
<td width="205">Crystal</td>
</tr>
<tr>
<td width="205">Neo-7N</td>
<td width="205">FLASH</td>
<td width="205">TCXO</td>
</tr>
<tr>
<td width="205">Neo-7P</td>
<td width="205">FLASH</td>
<td width="205">Crystal</td>
</tr>
<tr>
<td width="205">Neo-M8M</td>
<td width="205">ROM</td>
<td width="205">Crystal</td>
</tr>
<tr>
<td width="205">Neo-M8N</td>
<td width="205">FLASH</td>
<td width="205">TCXO</td>
</tr>
<tr>
<td width="205">Neo-M8Q</td>
<td width="205">ROM</td>
<td width="205">Crystal</td>
</tr>
</tbody>
</table>
<p>In this project we will use the Neo-7M. As this uses a ROM, the option to use a 3 volt backup battery on the PCB will help to speed up satellite lock after switch-on (this is optional). If the back-up battery is not used it may take a few minutes before the unit locks on to satellites. If the Neo-7N version is used then as it uses a FLASH memory there is no need for a back-up supply.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.scullcom.uk/design-build-a-gps-locked-frequency-standard-part-4/feed/</wfw:commentRss>
		<slash:comments>30</slash:comments>
		</item>
	</channel>
</rss>
